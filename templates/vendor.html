{% extends 'home.html' %}

{% load staticfiles %}

{% block select_store %}selected{% endblock %}

{% block home_css %}

	<link rel = "stylesheet" type = "text/css" href = "{% static 'css/vendor.css' %}">
	<link rel = "stylesheet" type = "text/css" href = "{% static 'css/listings.css' %}">

	{% block vendor_css %}
	{% endblock %}

{% endblock %}

{% block right_panel %}

	<div class = "content-panel-container">
		<input id = "vendor-slug" type = "text" value = "{{ vendor.slug }}" hidden>
		<div id = "vendor-header" class = "content-panel">
			<div id = "vendor-cover" style = "background-image: url({{ vendor.cover_image.url }});">
				
			</div>
			<div id = "vendor-details">
				<div id = "vendor-image" style = "background-image: url({{ vendor.profile_image.url }});">
					
				</div>
				<div id = "vendor-main">
					<div id = "vendor-info">
						<p id = "vendor-title">{{ vendor.title }}</p>
						<div id = "follow-container">
							<div id = "follow-count">
								<span style = "display: flex; align-items: baseline;">
									<p id = "follower-count">{% get_follower_count vendor %}</p>
								</span>
							</div>
							{% if vendor in user.userprofile.following.all %}
								<div id = "follow" class = "following">
									Following
								</div>
							{% else %}
								<div id = "follow">
									Follow
								</div>
							{% endif %}
						</div>
					</div>
					<div id = "vendor-links">
						<a href = "{% url 'core:vendor_feed' vendor.slug %}">
							<div class = "vendor-link {% block select_vendor_feed %}{% endblock %}">Feed</div>
						</a>
						<a href = "{% url 'core:vendor_store' vendor.slug %}">
							<div class = "vendor-link {% block select_vendor_store %}{% endblock %}">Store</div>
						</a>
						<a href = "{% url 'core:vendor_about' vendor.slug %}">
							<div class = "vendor-link {% block select_vendor_about %}{% endblock %}">About</div>
						</a>
					</div>
				</div>
			</div>
		</div>
		<div id = "vendor-content">
			{% block vendor_content %}
			{% endblock %}
		</div>
	</div>

{% endblock %}

{% block home_js %}

	<script type = "text/javascript" src = "{% static 'js/vendor.js' %}"></script>
	
	{% block vendor_js %}
	{% endblock %}

{% endblock %}